{"version":3,"sources":["components/Filter.js","services/phonebook.js","components/PersonForm.js","components/person.js","components/PhoneBookShow.js","components/Notify.js","index.js"],"names":["Filter","persons","setFilted","useState","filter","setFilter","value","onChange","event","reg","target","rege","RegExp","person","name","search","error","baseUrl","newPerson","axios","post","then","resp","data","get","id","delete","put","PersonForm","filted","setPersons","createNotice","newName","setNewName","newNumber","setNewNumber","type","onClick","preventDefault","number","samePerson","find","window","confirm","PhoneBookService","map","msg","catch","newOne","concat","removeFunc","styles","float","padding","margin","style","PhoneBookShow","console","log","reason","removeID","Notify","className","App","notice","setNotice","useEffect","CreateNotice","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db34fcbf.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nconst Filter = ({ persons, setFilted }) => {\n\tconst [filter, setFilter] = useState('')\n\n\tconst handleFilter = (event) => {\n\t\tlet reg = event.target.value\n\t\ttry {\n\t\t\tlet rege = new RegExp(reg, 'i')\n\t\t\tsetFilted(persons.filter(person => person.name.search(rege) !== -1))\n\t\t} catch (error) {\n\n\t\t} finally {\n\t\t\tsetFilter(reg)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t<h2>Filter (Regexpression support)</h2>\n\t\t\t<div>\n\t\t\t\tFilter: <input value={filter} onChange={handleFilter} />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Filter\n","import axios from \"axios\"\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl)\r\n\treturn request.then((resp) => resp.data)\r\n}\r\n\r\nconst append = (newPerson) => {\r\n\tconst request = axios.post(baseUrl, newPerson)\r\n\treturn request.then((resp) => resp.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then((resp) => resp.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n\treturn request.then((resp) => resp.data)\r\n}\r\n\r\nexport default {\r\n\tappend,\r\n\tgetAll,\r\n\tremove,\r\n\tupdate,\r\n}\r\n","import React, { useState } from \"react\"\r\nimport PhoneBookService from \"../services/phonebook\"\r\n\r\nconst PersonForm = ({\r\n\tfilted,\r\n\tsetFilted,\r\n\tpersons,\r\n\tsetPersons,\r\n\tcreateNotice,\r\n}) => {\r\n\tconst [newName, setNewName] = useState(\"\")\r\n\tconst [newNumber, setNewNumber] = useState(\"\")\r\n\r\n\tconst handleNewName = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t}\r\n\tconst handleNewNumber = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\r\n\tconst submitHandler = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tlet newPerson = { name: newName, number: newNumber }\r\n\t\tlet samePerson = persons.find(\r\n\t\t\t(person) => person.name === newPerson.name\r\n\t\t)\r\n\t\tif (samePerson) {\r\n\t\t\tif (\r\n\t\t\t\twindow.confirm(\r\n\t\t\t\t\t`${newPerson.name} already exist. Replace old number with new one?`\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\tPhoneBookService.update(samePerson.id, newPerson)\r\n\t\t\t\t\t.then((resp) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id !== samePerson.id ? person : resp\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tsetFilted(\r\n\t\t\t\t\t\t\tfilted.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id !== samePerson.id ? person : resp\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\tcreateNotice({\r\n\t\t\t\t\t\t\tmsg: \"Success updated\",\r\n\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tcreateNotice({\r\n\t\t\t\t\t\t\tmsg: \"Update failed. Refresh the page may fix it.\",\r\n\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else if (newPerson.name === \"\") {\r\n\t\t\tcreateNotice({ msg: \"Name can not be empty.\", type: \"notice\" })\r\n\t\t} else {\r\n\t\t\tPhoneBookService.append(newPerson)\r\n\t\t\t\t.then((newOne) => {\r\n\t\t\t\t\tsetPersons(persons.concat(newOne))\r\n\t\t\t\t\tsetFilted(filted.concat(newOne))\r\n\t\t\t\t\tcreateNotice({ msg: \"Success added\", type: \"success\" })\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() =>\r\n\t\t\t\t\tcreateNotice({\r\n\t\t\t\t\t\tmsg: \"Add person failed. Refresh the page may fix it.\",\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={handleNewName} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tNumber: <input value={newNumber} onChange={handleNewNumber} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\" onClick={submitHandler}>\r\n\t\t\t\t\tadd\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default PersonForm\r\n","import React from \"react\"\n\nconst person = ({ name, number, id, removeFunc }) => {\n\tconst styles = { float: \"left\", padding: \"0 2px 0 0\", margin: \"0 10px 0 0\" }\n\treturn (\n\t\t<div id={id}>\n\t\t\t<div style={styles}>{name}</div>\n\t\t\t<div style={styles}>:</div>\n\t\t\t<div style={styles}>{number}</div>\n\t\t\t<button type=\"submit\" onClick={removeFunc}>\n\t\t\t\tdelete\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default person\n","import React from \"react\"\r\nimport PhoneBookService from \"../services/phonebook\"\r\nimport Person from \"./person\"\r\n\r\nconst PhoneBookShow = ({\r\n\tfilted,\r\n\tsetFilted,\r\n\tpersons,\r\n\tsetPersons,\r\n\tcreateNotice,\r\n}) => {\r\n\tconst removeID = (id) => {\r\n\t\tconsole.log(`trying to delete ${id}`)\r\n\t\tlet name = persons.find((person) => person.id === id).name\r\n\t\tif (window.confirm(`Really delete ${name}?`)) {\r\n\t\t\tPhoneBookService.remove(id)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetFilted(filted.filter((person) => person.id !== id))\r\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id))\r\n\t\t\t\t\tcreateNotice({ msg: \"Success deleted\", type: \"success\" })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((reason) => {\r\n\t\t\t\t\tconsole.log(reason)\r\n\t\t\t\t\tcreateNotice({\r\n\t\t\t\t\t\tmsg: \"Delete Failed. Refresh the page may fix it.\",\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{filted.map(({ name, number, id }) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Person\r\n\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\tnumber={number}\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tremoveFunc={() => removeID(id)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t))}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default PhoneBookShow\r\n","import React from \"react\"\r\n\r\nconst Notify = ({ msg, type }) => {\r\n\tif (msg === null) {\r\n\t\treturn null\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<p className={type}>{msg}</p>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Notify\r\n","import ReactDOM from \"react-dom\"\r\nimport React, { useState, useEffect } from \"react\"\r\nimport Filter from \"./components/Filter\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport PhoneBookShow from \"./components/PhoneBookShow\"\r\nimport PhoneBookService from \"./services/phonebook\"\r\nimport Notify from \"./components/Notify\"\r\nimport \"./index.css\"\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([])\r\n\tconst [filted, setFilted] = useState(persons)\r\n\tconst [notice, setNotice] = useState({ msg: null, type: \"error\" })\r\n\r\n\tuseEffect(() => {\r\n\t\tPhoneBookService.getAll().then((persons) => {\r\n\t\t\tsetPersons(persons)\r\n\t\t\tsetFilted(persons)\r\n\t\t})\r\n\t}, [])\r\n\tconst CreateNotice = ({ msg, type }) => {\r\n\t\tsetNotice({ msg, type })\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetNotice({ msg: null, type: null })\r\n\t\t}, 5000)\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Notify msg={notice.msg} type={notice.type} />\r\n\t\t\t<Filter persons={persons} setFilted={setFilted} />\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<PersonForm\r\n\t\t\t\tfilted={filted}\r\n\t\t\t\tsetFilted={setFilted}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tsetPersons={setPersons}\r\n\t\t\t\tcreateNotice={CreateNotice}\r\n\t\t\t/>\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<PhoneBookShow\r\n\t\t\t\tfilted={filted}\r\n\t\t\t\tsetFilted={setFilted}\r\n\t\t\t\tpersons={persons}\r\n\t\t\t\tsetPersons={setPersons}\r\n\t\t\t\tcreateNotice={CreateNotice}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\nReactDOM.render(<App />, document.getElementById(\"root\"))\r\nexport default App\r\n"],"sourceRoot":""}